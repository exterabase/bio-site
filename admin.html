<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ê–¥–º–∏–Ω–∫–∞ –±–∏–æ Pro</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <h1>–ê–¥–º–∏–Ω–∫–∞ Pro</h1>

  <h2>–ì–ª–∞–≤–Ω–æ–µ</h2>
  <input type="text" id="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã">
  <textarea id="description" rows="2" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã"></textarea>
  <input type="url" id="avatar" placeholder="URL –∞–≤–∞—Ç–∞—Ä–∞">
  <button class="save-btn" onclick="saveMain()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>

  <h2>–î–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫</h2>
  <select id="blockType">
    <option value="link">–°—Å—ã–ª–∫–∞</option>
    <option value="text">–¢–µ–∫—Å—Ç</option>
  </select>
  <input type="text" id="blockName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ / —Ç–µ–∫—Å—Ç">
  <input type="url" id="blockUrl" placeholder="URL (–¥–ª—è —Å—Å—ã–ª–∫–∏)">
  <select id="blockPlatform">
    <option value="default">Default</option>
    <option value="instagram">Instagram</option>
    <option value="telegram">Telegram</option>
    <option value="twitter">Twitter</option>
    <option value="discord">Discord</option>
  </select>
  <input type="text" id="blockIcon" placeholder="–ò–∫–æ–Ω–∫–∞ (emoji –∏–ª–∏ HTML)">
  <button class="save-btn" onclick="addBlock()">–î–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫</button>

  <h2>–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±–ª–æ–∫–∏</h2>
  <div id="blocksList"></div>
</div>

<script>
let data = JSON.parse(localStorage.getItem('bioDataPro')) || {
  title: "–ú–æ—ë –±–∏–æ",
  description: "–ó–¥–µ—Å—å –±—É–¥—É—Ç –º–æ–∏ —Å—Å—ã–ª–∫–∏ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–±–æ –º–Ω–µ.",
  avatar: "",
  blocks: []
};

document.getElementById('title').value = data.title;
document.getElementById('description').value = data.description;
document.getElementById('avatar').value = data.avatar || '';

function saveMain() {
  data.title = document.getElementById('title').value;
  data.description = document.getElementById('description').value;
  data.avatar = document.getElementById('avatar').value;
  localStorage.setItem('bioDataPro', JSON.stringify(data));
  alert("–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!");
}

function addBlock() {
  const type = document.getElementById('blockType').value;
  const name = document.getElementById('blockName').value.trim();
  const url = document.getElementById('blockUrl').value.trim();
  const platform = document.getElementById('blockPlatform').value;
  const icon = document.getElementById('blockIcon').value;

  if(type === 'link' && !name) return alert("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏");
  if(type === 'link' && !url) return alert("–í–≤–µ–¥–∏—Ç–µ URL —Å—Å—ã–ª–∫–∏");
  if(type === 'text' && !name) return alert("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç");

  const block = {type};
  if(type === 'link') {
    block.name = name;
    block.url = url;
    block.platform = platform;
    block.icon = icon;
  } else {
    block.content = name;
  }

  data.blocks.push(block);
  localStorage.setItem('bioDataPro', JSON.stringify(data));
  renderBlocks();
  document.getElementById('blockName').value = '';
  document.getElementById('blockUrl').value = '';
  document.getElementById('blockIcon').value = '';
}

function renderBlocks() {
  const container = document.getElementById('blocksList');
  container.innerHTML = '';
  data.blocks.forEach((block, i) => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `${block.type==='link'?'üîó':'üìù'} ${block.type==='link'?block.name:block.content}
      <button class="delete-btn" onclick="deleteBlock(${i})">X</button>`;
    container.appendChild(card);
  });
}

function deleteBlock(i) {
  if(confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –±–ª–æ–∫?')) {
    data.blocks.splice(i, 1);
    localStorage.setItem('bioDataPro', JSON.stringify(data));
    renderBlocks();
  }
}

renderBlocks();
</script>

</body>
</html>